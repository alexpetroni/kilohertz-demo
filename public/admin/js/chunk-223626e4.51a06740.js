(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-223626e4"],{"169a":function(e,t,n){"use strict";n("caad"),n("45fc"),n("a9e3"),n("2532"),n("498a");var i=n("5530"),a=n("ade3"),r=(n("368e"),n("480e")),o=n("4ad4"),s=n("b848"),l=n("75eb"),c=n("e707"),d=n("e4d3"),u=n("21be"),m=n("f2e7"),h=n("a293"),f=n("58df"),p=n("d9bd"),v=n("80d2"),b=Object(f["a"])(o["a"],s["a"],l["a"],c["a"],d["a"],u["a"],m["a"]);t["a"]=b.extend({name:"v-dialog",directives:{ClickOutside:h["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200}},computed:{classes:function(){var e;return e={},Object(a["a"])(e,"v-dialog ".concat(this.contentClass).trim(),!0),Object(a["a"])(e,"v-dialog--active",this.isActive),Object(a["a"])(e,"v-dialog--persistent",this.persistent),Object(a["a"])(e,"v-dialog--fullscreen",this.fullscreen),Object(a["a"])(e,"v-dialog--scrollable",this.scrollable),Object(a["a"])(e,"v-dialog--animated",this.animate),e},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(e){e?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind())},fullscreen:function(e){this.isActive&&(e?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(p["d"])("full-width",this)},beforeMount:function(){var e=this;this.$nextTick((function(){e.isBooted=e.isActive,e.isActive&&e.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var e=this;this.animate=!1,this.$nextTick((function(){e.animate=!0,window.clearTimeout(e.animateTimeout),e.animateTimeout=window.setTimeout((function(){return e.animate=!1}),150)}))},closeConditional:function(e){var t=e.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(t)||this.overlay&&t&&!this.overlay.$el.contains(t))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):c["a"].options.methods.hideScroll.call(this)},show:function(){var e=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){e.$refs.content.focus(),e.bind()}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(e){this.$emit("click:outside",e),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(e){if(e.keyCode===v["x"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var t=this.getActivator();this.$nextTick((function(){return t&&t.focus()}))}this.$emit("keydown",e)},onFocusin:function(e){if(e&&this.retainFocus){var t=e.target;if(t&&![document,this.$refs.content].includes(t)&&!this.$refs.content.contains(t)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(e){return e.contains(t)}))){var n=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])');n.length&&n[0].focus()}}},genContent:function(){var e=this;return this.showLazyContent((function(){return[e.$createElement(r["a"],{props:{root:!0,light:e.light,dark:e.dark}},[e.$createElement("div",{class:e.contentClasses,attrs:Object(i["a"])({role:"document",tabindex:e.isActive?0:void 0},e.getScopeIdAttrs()),on:{keydown:e.onKeydown},style:{zIndex:e.activeZIndex},ref:"content"},[e.genTransition()])])]}))},genTransition:function(){var e=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[e]):e},genInnerContent:function(){var e={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:this.onClickOutside,args:{closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(e.style=Object(i["a"])(Object(i["a"])({},e.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(v["h"])(this.maxWidth),width:"auto"===this.width?void 0:Object(v["h"])(this.width)})),this.$createElement("div",e,this.getContentSlot())}},render:function(e){return e("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},"1dbb":function(e,t,n){"use strict";n("4160"),n("159b"),n("96cf");var i,a,r=n("1da1"),o=n("5530"),s=n("9468"),l=n("1c5d"),c=n("34ce"),d={mixins:[s["a"],l["a"]],model:{prop:"id",event:"change"},props:{id:{type:String},busEventName:{type:[String,Array]},reloadAfterCreate:{type:Boolean,default:!1},reloadAfterUpdate:{type:Boolean,default:!1}},data:function(){return{item:this.getDefaultItem(),loading:!1,createdItem:null}},computed:{crudEvents:function(){return{"create-item":this.onCreateItem,"update-item":this.onUpdateItem,"delete-item":this.onDeleteItem,"reload-item":this.onReloadItem}},modelState:function(){return{error:this.error,loading:this.loading,formState:this.formState}}},watch:{id:{handler:function(){this.setupCurrentItem()},immediate:!0}},methods:{getDefaultItem:function(){throw new Error("getDefaultItem() should be overwritten in component")},itemKey:function(){return{id:this.id}},itemFullKey:function(){return this.parentKey()?Object(o["a"])(Object(o["a"])({},this.itemKey()),this.parentKey()):this.itemKey()},parentKey:function(){return null},extractItemKey:function(e){return e?e.id:null},eventBusEmit:function(e,t){this.busEventName&&(Array.isArray(this.busEventName)?this.busEventName.forEach((function(n){return c["a"].$emit(n+"-"+e,t)})):c["a"].$emit(this.busEventName+"-"+e,t))},removeTypenameFromInput:function(e){return c["f"](e,"__typename")},itemError:function(e){this.setError(e),this.$emit("error",e)},notifiy:function(e,t){this.$emit(e,t),this.eventBusEmit(e,t)},parseItemToMirrorDefaultModel:function(e){return c["j"](e)?c["w"](this.getDefaultItem(),e):e},createItem:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:throw console.log("createItem item %o, key %o",e,t),new Error("createItem() should be overwritten in child component.");case 2:case"end":return n.stop()}}),n)})))()},loadItem:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:throw console.log("loadItem key %o fetchPolicy %s",e,t),new Error("loadItem() should be overwritten in child component.");case 2:case"end":return n.stop()}}),n)})))()},updateItem:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:throw console.log("updateItem item %o, key %o",e,t),new Error("updateItem() should be overwritten in child component.");case 2:case"end":return n.stop()}}),n)})))()},deleteItem:function(e){return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:throw console.log("deleteItem key %o",e),new Error("deleteItem() should be overwritten in child component.");case 2:case"end":return t.stop()}}),t)})))()},onNewItem:function(){this.$emit("new-item"),this.$emit("change",null)},onCreateItem:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.clearError(),t.loading=!0,n.prev=2,n.next=5,t.createItem(e,t.parentKey());case 5:if(i=n.sent,a=t.extractCreatedItemId(i),a){n.next=9;break}throw new Error("No item key provided in createItem result.");case 9:t.$emit("change",a),t.notifiy("item-created",t.parseItemCreatedNotify(i)),t.createdItem=t.reloadAfterCreate?null:t.parseCreateResult(i),n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](2),t.itemError(n.t0.message);case 17:return n.prev=17,t.loading=!1,n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[2,14,17,20]])})))()},onUpdateItem:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.clearError(),t.loading=!0,n.prev=2,n.next=5,t.updateItem(e,t.itemFullKey());case 5:if(i=n.sent,t.notifiy("item-updated",t.parseItemUpdatedNotify(i)),!t.reloadAfterUpdate){n.next=11;break}return n.abrupt("return",t.refreshItem());case 11:t.item=t.parseUpdateResult(i);case 12:n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](2),t.itemError(n.t0.message);case 17:return n.prev=17,t.loading=!1,n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[2,14,17,20]])})))()},onDeleteItem:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.clearError(),e.loading=!0,t.prev=2,t.next=5,e.deleteItem(e.itemFullKey());case 5:e.notifiy("item-deleted",e.itemFullKey()),e.$emit("change",null),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](2),e.itemError(t.t0.message);case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[2,9,12,15]])})))()},onReloadItem:function(){this.refreshItem("network-only")},loadItemForCurrentId:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return t.clearError(),t.loading=!0,n.prev=2,n.next=5,t.loadItem(t.itemFullKey(),e);case 5:if(i=n.sent,i){n.next=8;break}throw new Error("No item found for this id");case 8:t.setEditedItem(t.parseLoadResult(i)),t.notifiy("item-loaded",t.id),n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](2),t.itemError(n.t0.message);case 15:return n.prev=15,t.loading=!1,n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])})))()},setupCurrentItem:function(e){this.id?!this.reloadAfterCreate&&this.createdItem&&this.extractItemKey(this.createdItem)==this.id?(this.setEditedItem(this.createdItem),this.createdItem=null):this.loadItemForCurrentId(e):this.setDefaultItem()},refreshItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"network-only";this.id?this.loadItemForCurrentId(e):this.setDefaultItem()},setDefaultItem:function(){this.item=this.getDefaultItem(),this.setNewFormState()},setEditedItem:function(e){this.item=e,this.setEditFormState()},parseCreateResult:function(e){return this.parseItemToMirrorDefaultModel(e)},parseLoadResult:function(e){return this.parseItemToMirrorDefaultModel(e)},parseUpdateResult:function(e){return this.parseItemToMirrorDefaultModel(e)},parseItemCreatedNotify:function(e){return this.parentKey()?Object.assign({},e,this.parentKey()):e},parseItemUpdatedNotify:function(e){return this.parentKey()?Object.assign({},e,this.parentKey()):e},extractCreatedItemId:function(e){return this.extractItemKey(e)},extraSlotParams:function(){return{}},slotParams:function(){var e={item:this.item,crudEvents:this.crudEvents,modelState:this.modelState},t=this.extraSlotParams();return Object.assign({},e,t)}},render:function(){return this.$scopedSlots.default(this.slotParams())}},u=d,m=n("2877"),h=Object(m["a"])(u,i,a,!1,null,null,null);t["a"]=h.exports},"23e6":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{"max-width":e.maxWidth},model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("v-card",[n("v-card-title",[n("v-spacer"),n("v-icon",{attrs:{"aria-label":"Close"},on:{click:e.onClose}},[e._v(" mdi-close ")])],1),n("v-card-text",{staticClass:"pb-6 pt-6 text-center",domProps:{innerHTML:e._s(e.message)}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{staticClass:"mr-3",attrs:{text:""},on:{click:e.onClose}},[e._v(" "+e._s(e.noBtnText)+" ")]),n("v-btn",{attrs:{color:"success",text:""},on:{click:e.onDialogConfirm}},[e._v(" "+e._s(e.yesBtnText)+" ")]),n("v-spacer")],1)],1)],1)},a=[],r={model:{prop:"dialog"},props:{dialog:{type:Boolean,required:!0},message:{type:String,default:"?"},yesBtnText:{type:String,default:"Yes"},noBtnText:{type:String,default:"Nevermind"},maxWidth:{default:400}},computed:{open:{get:function(){return this.dialog},set:function(e){this.$emit("input",!!e)}}},methods:{onDialogConfirm:function(){this.$emit("confirm"),this.open=!1},onClose:function(){this.$emit("cancel"),this.open=!1}}},o=r,s=n("2877"),l=n("6544"),c=n.n(l),d=n("8336"),u=n("b0af"),m=n("99d9"),h=n("169a"),f=n("132d"),p=n("2fa4"),v=Object(s["a"])(o,i,a,!1,null,null,null);t["a"]=v.exports;c()(v,{VBtn:d["a"],VCard:u["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VDialog:h["a"],VIcon:f["a"],VSpacer:p["a"]})},"2a7f":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n("71d9"),a=n("80d2"),r=Object(a["j"])("v-toolbar__title"),o=Object(a["j"])("v-toolbar__items");i["a"]},"368e":function(e,t,n){},"3c93":function(e,t,n){},"40d6":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{class:e.cardClass,attrs:{flat:""}},[n("v-card-actions",[n("v-spacer"),e.isNewForm?n("v-btn",{attrs:{color:e.btnColor,disabled:e.disabled,text:e.textBtn,outlined:e.outlined},on:{click:function(t){return e.onCreate()}}},[e._v(" "+e._s(e.btnTextAdd)+" ")]):n("v-btn",{attrs:{color:e.btnColor,disabled:e.disabled,text:e.textBtn,outlined:e.outlined},on:{click:function(t){return e.onUpdate()}}},[e._v(" "+e._s(e.btnTextUpdate)+" ")]),e.cancelBtn?n("v-btn",{attrs:{color:e.btnColor,text:e.textBtn,outlined:e.outlined},on:{click:function(t){return e.onCancel()}}},[e._v(" "+e._s(e.btnTextCancel)+" ")]):e._e(),n("v-spacer")],1)],1)},a=[],r=n("34ce"),o={props:{formState:{type:String,default:r["b"].NEW},disabled:{type:Boolean,default:!1},btnColor:{type:String,default:"primary"},cardClass:{type:String,default:"pb-4 mt-4"},btnTextAdd:{type:String,default:"Add"},btnTextUpdate:{type:String,default:"Update"},btnTextCancel:{type:String,default:"Cancel"},cancelBtn:{type:Boolean,default:!1},textBtn:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1}},computed:{isNewForm:function(){return Object(r["n"])(this.formState)},isEditForm:function(){return Object(r["k"])(this.formState)}},methods:{onCreate:function(){this.$emit("create-item")},onUpdate:function(){this.$emit("update-item")},onCancel:function(){this.$emit("cancel")}}},s=o,l=n("2877"),c=n("6544"),d=n.n(c),u=n("8336"),m=n("b0af"),h=n("99d9"),f=n("2fa4"),p=Object(l["a"])(s,i,a,!1,null,null,null);t["a"]=p.exports;d()(p,{VBtn:u["a"],VCard:m["a"],VCardActions:h["a"],VSpacer:f["a"]})},"5e23":function(e,t,n){},"5ff0":function(e,t,n){"use strict";var i=n("34ce");t["a"]={props:{item:{type:[Object,Array],required:!0},formState:{type:String,default:i["b"].NEW},loading:{type:Boolean,default:!1},error:{type:String,default:""}},data:function(){return{editedItem:Object(i["v"])(this.item)}},computed:{modelState:function(){return{formState:this.formState,error:this.error,loading:this.loading}},formEvents:function(){return{"create-item":this.createItem,"update-item":this.updateItem,"delete-item":this.deleteItem,"reload-item":this.reloadItem,"new-item":this.newItem,cancel:this.cancel}},isNewForm:function(){return Object(i["n"])(this.formState)},isEditForm:function(){return Object(i["k"])(this.formState)}},methods:{createItem:function(){this.$emit("create-item",this.editedItem)},updateItem:function(){this.$emit("update-item",this.editedItem)},deleteItem:function(){this.$emit("delete-item")},reloadItem:function(){this.$emit("reload-item")},newItem:function(){this.$emit("new-item")},cancel:function(){this.$emit("cancel")},reset:function(){this.editedItem=Object(i["v"])(this.item)}},watch:{item:function(e){this.editedItem=Object(i["v"])(e)}}}},"71d9":function(e,t,n){"use strict";n("0481"),n("4160"),n("4069"),n("a9e3");var i=n("3835"),a=n("5530"),r=(n("5e23"),n("8dd9")),o=n("adda"),s=n("80d2"),l=n("d9bd");t["a"]=r["a"].extend({name:"v-toolbar",props:{absolute:Boolean,bottom:Boolean,collapse:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{default:48,type:[Number,String]},flat:Boolean,floating:Boolean,prominent:Boolean,short:Boolean,src:{type:[String,Object],default:""},tag:{type:String,default:"header"},tile:{type:Boolean,default:!0}},data:function(){return{isExtended:!1}},computed:{computedHeight:function(){var e=this.computedContentHeight;if(!this.isExtended)return e;var t=parseInt(this.extensionHeight);return this.isCollapsed?e:e+(isNaN(t)?0:t)},computedContentHeight:function(){return this.height?parseInt(this.height):this.isProminent&&this.dense?96:this.isProminent&&this.short?112:this.isProminent?128:this.dense?48:this.short||this.$vuetify.breakpoint.smAndDown?56:64},classes:function(){return Object(a["a"])(Object(a["a"])({},r["a"].options.computed.classes.call(this)),{},{"v-toolbar":!0,"v-toolbar--absolute":this.absolute,"v-toolbar--bottom":this.bottom,"v-toolbar--collapse":this.collapse,"v-toolbar--collapsed":this.isCollapsed,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--flat":this.flat,"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.isProminent})},isCollapsed:function(){return this.collapse},isProminent:function(){return this.prominent},styles:function(){return Object(a["a"])(Object(a["a"])({},this.measurableStyles),{},{height:Object(s["h"])(this.computedHeight)})}},created:function(){var e=this,t=[["app","<v-app-bar app>"],["manual-scroll",'<v-app-bar :value="false">'],["clipped-left","<v-app-bar clipped-left>"],["clipped-right","<v-app-bar clipped-right>"],["inverted-scroll","<v-app-bar inverted-scroll>"],["scroll-off-screen","<v-app-bar scroll-off-screen>"],["scroll-target","<v-app-bar scroll-target>"],["scroll-threshold","<v-app-bar scroll-threshold>"],["card","<v-app-bar flat>"]];t.forEach((function(t){var n=Object(i["a"])(t,2),a=n[0],r=n[1];e.$attrs.hasOwnProperty(a)&&Object(l["a"])(a,r,e)}))},methods:{genBackground:function(){var e={height:Object(s["h"])(this.computedHeight),src:this.src},t=this.$scopedSlots.img?this.$scopedSlots.img({props:e}):this.$createElement(o["a"],{props:e});return this.$createElement("div",{staticClass:"v-toolbar__image"},[t])},genContent:function(){return this.$createElement("div",{staticClass:"v-toolbar__content",style:{height:Object(s["h"])(this.computedContentHeight)}},Object(s["r"])(this))},genExtension:function(){return this.$createElement("div",{staticClass:"v-toolbar__extension",style:{height:Object(s["h"])(this.extensionHeight)}},Object(s["r"])(this,"extension"))}},render:function(e){this.isExtended=this.extended||!!this.$scopedSlots.extension;var t=[this.genContent()],n=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return this.isExtended&&t.push(this.genExtension()),(this.src||this.$scopedSlots.img)&&t.unshift(this.genBackground()),e(this.tag,n,t)}})},"79a5":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteAttachment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteAttachment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}}],loc:{start:0,end:69}};n.loc.source={body:"mutation deleteAttachment ($id: ID!) {\n  deleteAttachment(id: $id)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,s=new Set;i.forEach((function(e){s.add(e)}));while(s.size>0){var l=s;s=new Set,l.forEach((function(e){if(!o.has(e)){o.add(e);var t=a[e]||new Set;t.forEach((function(e){s.add(e)}))}}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}}))})(),e.exports=n,e.exports["deleteAttachment"]=o(n,"deleteAttachment")},"7b6e":function(e,t,n){"use strict";n.r(t);var i,a,r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AttachmentEditor",e._g({attrs:{id:e.id}},e.onEditorEvents))},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AttachmentFormModel",e._g({attrs:{busEventName:"attachment",id:e.id},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.item,a=t.modelState,r=t.crudEvents;return[n("AttachmentForm",e._g(e._b({attrs:{item:i}},"AttachmentForm",a,!1),Object.assign({},r,e.pipeUp("new-item","cancel"))))]}}])},e.pipeUp("item-created","item-deleted")))},l=[],c=(n("99af"),n("96cf"),n("1da1")),d=n("34ce"),u=n("1dbb"),m=n("b27e"),h=n.n(m),f=n("79a5"),p=n.n(f),v={extends:u["a"],methods:{getDefaultItem:function(){return{fileId:"",type:"",name:"",path:"",filePath:"",tags:"",isPrivateFile:!1,customCoordinates:null,url:"",thumbnail:"",fileType:"image"}},loadItem:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$apollo.query({query:h.a,variables:e});case 2:return i=n.sent,a=i.data.attachment,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))()},deleteItem:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$apollo.mutate({mutation:p.a,variables:e});case 2:return i=n.sent,a=i.data.deleteAttachment,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))()},parseItemForInput:function(e){return Object(d["g"])(e,["__typename"])}}},b=v,g=n("2877"),y=Object(g["a"])(b,i,a,!1,null,null,null),w=y.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:"",tag:"section"}},[n("base-material-card",{scopedSlots:e._u([{key:"heading",fn:function(){return[n("FormTopBar",e._g(e._b({attrs:{addNewTitle:"Add New Attachment",editTitle:"Edit Attachment",name:e.item.name,menuItems:e.topBarMenuItems}},"FormTopBar",e.modelState,!1),e.formEvents))]},proxy:!0}])},[e.loading?n("v-progress-linear",{attrs:{indeterminate:""}}):e._e(),e.error?n("v-alert",{attrs:{type:"error"}},[e._v(e._s(e.error))]):e._e(),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"9"}},[n("ImgTransf",{attrs:{path:e.item.filePath}})],1),n("v-col",{attrs:{cols:"3"}},[n("ul",{staticStyle:{"list-style":"none"}},[n("li",[e._v("Type: "+e._s(e.item.type))]),n("li",[e._v("File type: "+e._s(e.item.fileType))]),n("li",[e._v("Thumbnail: "),n("a",{attrs:{href:e.item.thumbnail,target:"_blank"}},[n("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:e.item.thumbnail}})])]),n("li",[e._v("URL: "),n("a",{attrs:{href:e.item.url,target:"_blank"}},[e._v(e._s(e.item.url))])]),n("li",[e._v("Tags: "+e._s(e.item.tags))])])]),n("v-col",{attrs:{cols:"12"}},[n("FormSubmitButtons",{attrs:{disabled:e.submitDisabled,formState:e.formState},on:{"update-item":e.updateItem,"create-item":e.createItem}})],1)],1)],1)],1)},I=[],S=(n("b0c0"),n("498a"),n("5ff0")),x=n("f9dc"),C=n("40d6"),E=n("9b38"),O={mixins:[S["a"]],components:{FormTopBar:x["a"],FormSubmitButtons:C["a"],ImgTransf:E["a"]},data:function(){return{topBarMenuItems:[{title:"Reload",emit:"reload-item",icon:"mdi-reload"}]}},computed:{submitDisabled:function(){return!this.editedItem.name.trim()}}},_=O,N=n("6544"),$=n.n(N),D=n("0798"),j=n("62ad"),A=n("a523"),B=n("8e36"),T=n("0fd9b"),F=Object(g["a"])(_,k,I,!1,null,null,null),P=F.exports;$()(F,{VAlert:D["a"],VCol:j["a"],VContainer:A["a"],VProgressLinear:B["a"],VRow:T["a"]});var R={name:"AttachmentEditor",components:{AttachmentFormModel:w,AttachmentForm:P},props:{id:{type:String}},methods:{pipeUp:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d["z"].apply(void 0,[this].concat(t))}}},V=R,L=Object(g["a"])(V,s,l,!1,null,null,null),M=L.exports,K={components:{AttachmentEditor:M},data:function(){return{id:null}},computed:{onEditorEvents:function(){var e=Object(d["h"])(["item-created","item-updated","item-deleted","cancel"],this.showList),t={"new-item":this.onNewItem};return Object.assign({},t,e)}},watch:{"$route.params.id":{handler:function(e){this.id=e},immediate:!0}},methods:{showList:function(){this.$router.push({path:"/attachments"})},onNewItem:function(){this.$router.push({path:"/attachment-edit"})}}},U=K,H=Object(g["a"])(U,r,o,!1,null,null,null);t["default"]=H.exports},"9b38":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return this.path?n("v-img",{attrs:{src:e.imgUrl(this.path,this.transformation)}}):e._e()},a=[],r=n("34ce"),o={props:{path:{type:String},transformation:{type:Array}},methods:{imgUrl:function(e,t){return Object(r["i"])(e,t)}}},s=o,l=n("2877"),c=n("6544"),d=n.n(c),u=n("adda"),m=Object(l["a"])(s,i,a,!1,null,null,null);t["a"]=m.exports;d()(m,{VImg:u["a"]})},a523:function(e,t,n){"use strict";n("99af"),n("4de4"),n("b64b"),n("2ca0"),n("20f6"),n("4b85"),n("a15b"),n("498a");var i=n("2b0e");function a(e){return i["a"].extend({name:"v-".concat(e),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,n){var i=n.props,a=n.data,r=n.children;a.staticClass="".concat(e," ").concat(a.staticClass||"").trim();var o=a.attrs;if(o){a.attrs={};var s=Object.keys(o).filter((function(e){if("slot"===e)return!1;var t=o[e];return e.startsWith("data-")?(a.attrs[e]=t,!1):t||"string"===typeof t}));s.length&&(a.staticClass+=" ".concat(s.join(" ")))}return i.id&&(a.domProps=a.domProps||{},a.domProps.id=i.id),t(i.tag,a,r)}})}var r=n("d9f7");t["a"]=a("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(e,t){var n,i=t.props,a=t.data,o=t.children,s=a.attrs;return s&&(a.attrs={},n=Object.keys(s).filter((function(e){if("slot"===e)return!1;var t=s[e];return e.startsWith("data-")?(a.attrs[e]=t,!1):t||"string"===typeof t}))),i.id&&(a.domProps=a.domProps||{},a.domProps.id=i.id),e(i.tag,Object(r["a"])(a,{staticClass:"container",class:Array({"container--fluid":i.fluid}).concat(n||[])}),o)}})},b27e:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"attachment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AttachmentData"},directives:[]}]}}]}}],loc:{start:0,end:127}};i.loc.source={body:'#import "./fragments/AttachmentFragment.gql"\nquery attachment ($id: ID!) {\n  attachment(id: $id){\n    ... AttachmentData\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}i.definitions=i.definitions.concat(r(n("c0df").definitions));var s={};function l(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function c(e,t){var n={kind:e.kind,definitions:[l(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=s[t]||new Set,a=new Set,r=new Set;i.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!a.has(e)){a.add(e);var t=s[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return a.forEach((function(t){var i=l(e,t);i&&n.definitions.push(i)})),n}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),s[e.name.value]=t}}))})(),e.exports=i,e.exports["attachment"]=c(i,"attachment")},c0df:function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AttachmentData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Attachment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fileId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"filePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPrivateFile"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnail"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fileType"},arguments:[],directives:[]}]}}],loc:{start:0,end:128}};n.loc.source={body:"fragment AttachmentData on Attachment {\n  fileId\n  type\n  name\n  filePath\n  tags\n  isPrivateFile\n  url\n  thumbnail\n  fileType\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},e707:function(e,t,n){"use strict";n("caad"),n("a9e3"),n("2532");var i=n("5530"),a=(n("3c93"),n("a9ad")),r=n("7560"),o=n("f2e7"),s=n("58df"),l=Object(s["a"])(a["a"],r["a"],o["a"]).extend({name:"v-overlay",props:{absolute:Boolean,color:{type:String,default:"#212121"},dark:{type:Boolean,default:!0},opacity:{type:[Number,String],default:.46},value:{default:!0},zIndex:{type:[Number,String],default:5}},computed:{__scrim:function(){var e=this.setBackgroundColor(this.color,{staticClass:"v-overlay__scrim",style:{opacity:this.computedOpacity}});return this.$createElement("div",e)},classes:function(){return Object(i["a"])({"v-overlay--absolute":this.absolute,"v-overlay--active":this.isActive},this.themeClasses)},computedOpacity:function(){return Number(this.isActive?this.opacity:0)},styles:function(){return{zIndex:this.zIndex}}},methods:{genContent:function(){return this.$createElement("div",{staticClass:"v-overlay__content"},this.$slots.default)}},render:function(e){var t=[this.__scrim];return this.isActive&&t.push(this.genContent()),e("div",{staticClass:"v-overlay",class:this.classes,style:this.styles},t)}}),c=l,d=n("80d2"),u=n("2b0e");t["a"]=u["a"].extend().extend({name:"overlayable",props:{hideOverlay:Boolean,overlayColor:String,overlayOpacity:[Number,String]},data:function(){return{overlay:null}},watch:{hideOverlay:function(e){this.isActive&&(e?this.removeOverlay():this.genOverlay())}},beforeDestroy:function(){this.removeOverlay()},methods:{createOverlay:function(){var e=new c({propsData:{absolute:this.absolute,value:!1,color:this.overlayColor,opacity:this.overlayOpacity}});e.$mount();var t=this.absolute?this.$el.parentNode:document.querySelector("[data-app]");t&&t.insertBefore(e.$el,t.firstChild),this.overlay=e},genOverlay:function(){var e=this;if(this.hideScroll(),!this.hideOverlay)return this.overlay||this.createOverlay(),requestAnimationFrame((function(){e.overlay&&(void 0!==e.activeZIndex?e.overlay.zIndex=String(e.activeZIndex-1):e.$el&&(e.overlay.zIndex=Object(d["t"])(e.$el)))})),this.overlay&&(this.overlay.value=!0),!0},removeOverlay:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.overlay&&(Object(d["a"])(this.overlay.$el,"transitionend",(function(){e.overlay&&e.overlay.$el&&e.overlay.$el.parentNode&&!e.overlay.value&&(e.overlay.$el.parentNode.removeChild(e.overlay.$el),e.overlay.$destroy(),e.overlay=null)})),this.overlay.value=!1),t&&this.showScroll()},scrollListener:function(e){if("keydown"===e.type){if(["INPUT","TEXTAREA","SELECT"].includes(e.target.tagName)||e.target.isContentEditable)return;var t=[d["x"].up,d["x"].pageup],n=[d["x"].down,d["x"].pagedown];if(t.includes(e.keyCode))e.deltaY=-1;else{if(!n.includes(e.keyCode))return;e.deltaY=1}}(e.target===this.overlay||"keydown"!==e.type&&e.target===document.body||this.checkPath(e))&&e.preventDefault()},hasScrollbar:function(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;var t=window.getComputedStyle(e);return["auto","scroll"].includes(t.overflowY)&&e.scrollHeight>e.clientHeight},shouldScroll:function(e,t){return 0===e.scrollTop&&t<0||e.scrollTop+e.clientHeight===e.scrollHeight&&t>0},isInside:function(e,t){return e===t||null!==e&&e!==document.body&&this.isInside(e.parentNode,t)},checkPath:function(e){var t=e.path||this.composedPath(e),n=e.deltaY;if("keydown"===e.type&&t[0]===document.body){var i=this.$refs.dialog,a=window.getSelection().anchorNode;return!(i&&this.hasScrollbar(i)&&this.isInside(a,i))||this.shouldScroll(i,n)}for(var r=0;r<t.length;r++){var o=t[r];if(o===document)return!0;if(o===document.documentElement)return!0;if(o===this.$refs.content)return!0;if(this.hasScrollbar(o))return this.shouldScroll(o,n)}return!0},composedPath:function(e){if(e.composedPath)return e.composedPath();var t=[],n=e.target;while(n){if(t.push(n),"HTML"===n.tagName)return t.push(document),t.push(window),t;n=n.parentElement}return t},hideScroll:function(){this.$vuetify.breakpoint.smAndDown?document.documentElement.classList.add("overflow-y-hidden"):(Object(d["b"])(window,"wheel",this.scrollListener,{passive:!1}),window.addEventListener("keydown",this.scrollListener))},showScroll:function(){document.documentElement.classList.remove("overflow-y-hidden"),window.removeEventListener("wheel",this.scrollListener),window.removeEventListener("keydown",this.scrollListener)}}})},f9dc:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-toolbar",{attrs:{color:"transparent",flat:""}},[e.hideLeftSlot?e._e():e._t("left",[n("v-icon",{staticClass:"mx-2",attrs:{small:"",color:e.btnColor,left:"",title:e.backIconTitle},on:{click:function(t){return e.onBack()}}},[e._v(" "+e._s(e.backIcon)+" ")])],null,{isNewForm:e.isNewForm,isEditForm:e.isEditForm,btnColor:e.btnColor}),n("v-spacer"),n("v-toolbar-title",{domProps:{innerHTML:e._s(e.title)}}),n("v-spacer"),e.hideRightSlot?e._e():e._t("right",[e.hideDeleteBtn?e._e():n("v-icon",{staticClass:"mx-2",attrs:{disabled:e.disableDeleteBtn,small:"",color:e.btnColor,right:"",title:"Delete"},on:{click:function(t){return e.onDelete()}}},[e._v(" mdi-delete ")]),e.hasMenuItems?n("v-menu",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-btn",e._g({attrs:{color:"btnColor",disabled:e.rightMenuDisabled,icon:"",text:""}},i),[n("v-icon",{attrs:{small:"",color:e.btnColor}},[e._v("mdi-dots-vertical ")])],1)]}}],null,!1,252512073)},[n("v-list",e._l(e.compMenuItems,(function(t,i){return n("v-list-item",{key:i,attrs:{disabled:t.disabled},on:{click:function(n){return e.$emit(t.emit)}}},[e.useMenuIcons?n("v-list-item-icon",[n("v-icon",{attrs:{small:"",color:"accent",disabled:t.disabled},domProps:{textContent:e._s(t.icon)}})],1):e._e(),n("v-list-item-title",[e._v(e._s(t.title))])],1)})),1)],1):e._e()],null,{isNewForm:e.isNewForm,isEditForm:e.isEditForm,btnColor:e.btnColor}),n("ConfirmationDialog",e._b({on:{confirm:e.confirmDelete,cancel:e.cancelDelete},model:{value:e.confirmDialog,callback:function(t){e.confirmDialog=t},expression:"confirmDialog"}},"ConfirmationDialog",e.confirmOptions,!1))],2)},a=[],r=(n("d81d"),n("b0c0"),n("23e6")),o=n("34ce"),s={components:{ConfirmationDialog:r["a"]},props:{formState:{type:String,default:o["b"].NEW},name:{type:String},error:{type:String},loading:{type:Boolean,default:!1},backIcon:{type:String,default:"mdi-chevron-left"},backIconTitle:{type:String,default:"Back to list"},hideLeftSlot:{type:Boolean,default:!1},hideRightSlot:{type:Boolean,default:!1},hideDeleteBtn:{type:Boolean},btnColor:{type:String,default:"white"},menuBtnColor:{type:String,default:"dark-grey"},editTitle:{type:String,default:"Edit"},addNewTitle:{type:String,default:"Add New"},requireDeleteConfirmation:{type:Boolean,default:!0},deleteConfirmationMsg:{type:String,default:"Do you want to delete this item?"},menuItems:{type:Array,default:function(){return[{title:"Add new",emit:"new-item",icon:"mdi-plus",disabled:"new"},{title:"Reload",emit:"reload-item",icon:"mdi-reload"}]}},useMenuIcons:{type:Boolean,default:!0},rightMenuDisabled:{type:Boolean,default:!1}},data:function(){return{confirmDialog:!1}},computed:{isNewForm:function(){return Object(o["n"])(this.formState)},isEditForm:function(){return Object(o["k"])(this.formState)},disableAddNewBtn:function(){return this.isNewForm},disableReloadBtn:function(){return!1},disableDeleteBtn:function(){return this.isNewForm},title:function(){return Object(o["k"])(this.formState)?this.name?this.editTitle+" "+this.name:this.editTitle:this.addNewTitle},hasMenuItems:function(){return this.menuItems&&this.menuItems.length},compMenuItems:function(){var e=this;return this.hasMenuItems?this.menuItems.map((function(t){if(t.disabled){var n=t.disabled==e.formState;return Object.assign({},t,{disabled:n})}return t})):[]},confirmOptions:function(){return{message:this.deleteConfirmationMsg}}},methods:{onBack:function(){this.$emit("cancel")},onAddNew:function(){this.$emit("new-item")},onDelete:function(){this.requireDeleteConfirmation?this.confirmDialog=!0:this.$emit("delete-item")},onReload:function(){this.$emit("reload-item")},closeConfirmDeleteDialog:function(){this.confirmDialog=!1},confirmDelete:function(){this.closeConfirmDeleteDialog(),this.$emit("delete-item")},cancelDelete:function(){this.closeConfirmDeleteDialog()}}},l=s,c=n("2877"),d=n("6544"),u=n.n(d),m=n("8336"),h=n("132d"),f=n("8860"),p=n("da13"),v=n("34c3"),b=n("5d23"),g=n("e449"),y=n("2fa4"),w=n("71d9"),k=n("2a7f"),I=Object(c["a"])(l,i,a,!1,null,null,null);t["a"]=I.exports;u()(I,{VBtn:m["a"],VIcon:h["a"],VList:f["a"],VListItem:p["a"],VListItemIcon:v["a"],VListItemTitle:b["c"],VMenu:g["a"],VSpacer:y["a"],VToolbar:w["a"],VToolbarTitle:k["a"]})}}]);
//# sourceMappingURL=chunk-223626e4.51a06740.js.map