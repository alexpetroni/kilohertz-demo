(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6db26a8a"],{"1f73":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"deleteCategory"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteCategory"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}}],loc:{start:0,end:65}};n.loc.source={body:"mutation deleteCategory ($id: ID!) {\n  deleteCategory(id: $id)\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function i(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){i(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){i(e,t)})),e.definitions&&e.definitions.forEach((function(e){i(e,t)}))}var a={};function r(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function o(e,t){var n={kind:e.kind,definitions:[r(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=a[t]||new Set,o=new Set,d=new Set;i.forEach((function(e){d.add(e)}));while(d.size>0){var s=d;d=new Set,s.forEach((function(e){if(!o.has(e)){o.add(e);var t=a[e]||new Set;t.forEach((function(e){d.add(e)}))}}))}return o.forEach((function(t){var i=r(e,t);i&&n.definitions.push(i)})),n}(function(){n.definitions.forEach((function(e){if(e.name){var t=new Set;i(e,t),a[e.name.value]=t}}))})(),e.exports=n,e.exports["deleteCategory"]=o(n,"deleteCategory")},"34e7":function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"ml-1",attrs:{title:e.title,color:e.color,fab:"",icon:"","x-small":"",disabled:e.disabled},on:{click:function(t){return e.$emit("click")}}},[n("v-icon",{attrs:{small:""}},[e._v(" mdi-pencil ")])],1)},a=[],r={props:{title:{type:String,default:"Edit"},disabled:{type:Boolean,default:!1}},computed:{color:function(){return this.disabled?"grey":"success"}}},o=r,d=n("2877"),s=n("6544"),c=n.n(s),u=n("8336"),l=n("132d"),m=Object(d["a"])(o,i,a,!1,null,null,null);t["a"]=m.exports;c()(m,{VBtn:u["a"],VIcon:l["a"]})},4781:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"createCategory"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CategoryInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createCategory"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CategoryData"},directives:[]}]}}]}}],loc:{start:0,end:153}};i.loc.source={body:'#import "./fragments/CategoryFragment.gql"\nmutation createCategory ($input: CategoryInput!) {\n  createCategory(input: $input){\n    ...CategoryData\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}i.definitions=i.definitions.concat(r(n("74ea").definitions));var d={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function c(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=d[t]||new Set,a=new Set,r=new Set;i.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!a.has(e)){a.add(e);var t=d[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),d[e.name.value]=t}}))})(),e.exports=i,e.exports["createCategory"]=c(i,"createCategory")},"4df3":function(e,t,n){"use strict";n.r(t);var i,a,r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CategoriesTreeEditor",e._g({},e.onEditorEvents))},o=[],d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CategoriesTreeFormModel",e._g({attrs:{id:"categories",busEventName:"category-tree",reloadAfterCreate:!0,reloadAfterUpdate:!0},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.item,a=t.modelState,r=t.crudEvents;return[n("CategoriesTreeForm",e._g(e._b({attrs:{item:i}},"CategoriesTreeForm",a,!1),Object.assign({},r,e.pipeUp("new-item","edit-item"))))]}}])},e.pipeUp("item-created","item-updated","item-deleted")))},s=[],c=(n("99af"),n("5530")),u=(n("96cf"),n("1da1")),l=n("34ce"),m=n("1dbb"),f=n("606b"),v=n.n(f),p=n("4781"),g=n.n(p),k=n("a2a8"),h=n.n(k),b=n("1f73"),y=n.n(b),S={extends:m["a"],methods:{getDefaultItem:function(){return[]},createItem:function(e,t){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function i(){var a,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.$apollo.mutate({mutation:g.a,variables:Object(c["a"])({input:e},t)});case 2:return a=i.sent,r=a.data.createCategory,i.abrupt("return",r);case 5:case"end":return i.stop()}}),i)})))()},loadItem:function(e){var t=arguments,n=this;return Object(u["a"])(regeneratorRuntime.mark((function i(){var a,r,o;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t.length>1&&void 0!==t[1]?t[1]:"network-only",i.next=3,n.$apollo.query({query:v.a,variables:e,fetchPolicy:a});case 3:return r=i.sent,o=r.data.categories,i.abrupt("return",o);case 6:case"end":return i.stop()}}),i)})))()},updateItem:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var i,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return i=t.parseItemForInput(e),n.next=3,t.$apollo.mutate({mutation:h.a,variables:{inputArr:i}});case 3:return a=n.sent,r=a.data.updateCategories,n.abrupt("return",r);case 6:case"end":return n.stop()}}),n)})))()},deleteItem:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$apollo.mutate({mutation:y.a,variables:e});case 2:return i=n.sent,a=i.data.deleteCategory,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n)})))()},parseItemForInput:function(e){return Object(l["g"])(e,["__typename","createdAt","updatedAt"])}}},C=S,N=n("2877"),w=Object(N["a"])(C,i,a,!1,null,null,null),E=w.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{attrs:{fluid:"",tag:"section"}},[n("base-material-card",{staticClass:"px-5 py-3 mx-auto",attrs:{icon:"mdi-clipboard-text","max-width":"650",title:"Categories Tree"}},[e.loading?n("v-progress-linear",{attrs:{indeterminate:""}}):e._e(),e.error?n("v-alert",{attrs:{type:"error"}},[e._v(e._s(e.error))]):e._e(),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("v-card",{attrs:{flat:""}},[n("v-card-title",[n("AddNewBtn",{staticClass:"mt-n12",on:{click:e.newItem}})],1),e.hasItems?n("v-list",[n("draggable",{attrs:{handle:".handle"},on:{change:e.onReorder},model:{value:e.editedItem,callback:function(t){e.editedItem=t},expression:"editedItem"}},e._l(e.editedItem,(function(t){return n("v-list-item",{key:t.id},[n("v-list-item-icon",[e.isReordable?n("v-btn",{staticClass:"handle",attrs:{title:"Drag to reorder",icon:""}},[n("v-icon",[e._v("mdi-drag-vertical")])],1):e._e()],1),n("v-list-item-content",[n("v-list-item-title",{domProps:{textContent:e._s(t.name)}})],1),n("v-list-item-action",[n("div",[n("EditBtn",{on:{click:function(n){return e.editCategoryItem(t.id)}}})],1)])],1)})),1)],1):e._e(),e.hasItems||e.loading?e._e():n("div",{staticClass:"text-center pa-6"},[e._v(" No categories yet. ")])],1)],1),n("v-col",{attrs:{cols:"12"}},[n("FormSubmitButtons",{attrs:{disabled:e.submitDisabled,formState:e.formState},on:{"update-item":e.updateItem,"create-item":e.createItem}})],1)],1)],1)],1)},D=[],F=(n("4160"),n("159b"),n("310e")),x=n.n(F),V=n("5ff0"),O=n("40d6"),_=n("34e7"),A=n("b83b"),T={mixins:[V["a"]],components:{draggable:x.a,FormSubmitButtons:O["a"],EditBtn:_["a"],AddNewBtn:A["a"]},data:function(){return{topBarMenuItems:[{title:"Reload",emit:"reload-item",icon:"mdi-reload"}]}},computed:{submitDisabled:function(){return!1},hasItems:function(){return this.editedItem&&this.editedItem.length},isReordable:function(){return this.editedItem.length>1}},methods:{onAddItem:function(){},onReorder:function(){this.editedItem.forEach((function(e,t){e.order=t+1})),this.$emit("reorder-list",this.editedItem)},editCategoryItem:function(e){this.$emit("edit-item",e)},cancelEditedCategory:function(){this.editedCategoryId=""}}},$=T,j=n("6544"),R=n.n(j),L=n("0798"),P=n("8336"),q=n("b0af"),B=n("99d9"),G=n("62ad"),Q=n("a523"),z=n("132d"),J=n("8860"),U=n("da13"),M=n("1800"),W=n("5d23"),H=n("34c3"),K=n("8e36"),X=n("0fd9b"),Y=Object(N["a"])($,I,D,!1,null,null,null),Z=Y.exports;R()(Y,{VAlert:L["a"],VBtn:P["a"],VCard:q["a"],VCardTitle:B["c"],VCol:G["a"],VContainer:Q["a"],VIcon:z["a"],VList:J["a"],VListItem:U["a"],VListItemAction:M["a"],VListItemContent:W["a"],VListItemIcon:H["a"],VListItemTitle:W["c"],VProgressLinear:K["a"],VRow:X["a"]});var ee={name:"CategoriesTreeEditor",components:{CategoriesTreeFormModel:E,CategoriesTreeForm:Z},methods:{pipeUp:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l["y"].apply(void 0,[this].concat(t))}}},te=ee,ne=Object(N["a"])(te,d,s,!1,null,null,null),ie=ne.exports,ae={components:{CategoriesTreeEditor:ie},computed:{onEditorEvents:function(){return{"new-item":this.onNewItem,"edit-item":this.onEditItem}}},methods:{onNewItem:function(){this.$router.push({path:"category-edit"})},onEditItem:function(e){this.$router.push({path:"category-edit/".concat(e)})}}},re=ae,oe=Object(N["a"])(re,r,o,!1,null,null,null);t["default"]=oe.exports},"606b":function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"categories"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"args"}},type:{kind:"NamedType",name:{kind:"Name",value:"JSON"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"categories"},arguments:[{kind:"Argument",name:{kind:"Name",value:"args"},value:{kind:"Variable",name:{kind:"Name",value:"args"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CategoryData"},directives:[]}]}}]}}],loc:{start:0,end:129}};i.loc.source={body:'#import "./fragments/CategoryFragment.gql"\nquery categories ($args: JSON) {\n  categories(args: $args){\n    ...CategoryData\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}i.definitions=i.definitions.concat(r(n("74ea").definitions));var d={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function c(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=d[t]||new Set,a=new Set,r=new Set;i.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!a.has(e)){a.add(e);var t=d[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),d[e.name.value]=t}}))})(),e.exports=i,e.exports["categories"]=c(i,"categories")},"74ea":function(e,t){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CategoryData"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Category"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"updatedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"parent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ancestors"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]}]}}],loc:{start:0,end:131}};n.loc.source={body:"fragment CategoryData on Category{\n  id\n  createdAt\n  updatedAt\n  name\n  slug\n  description\n  order\n  parent\n  ancestors\n  image\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};e.exports=n},a2a8:function(e,t,n){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateCategories"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"inputArr"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CategoryInput"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCategories"},arguments:[{kind:"Argument",name:{kind:"Name",value:"inputArr"},value:{kind:"Variable",name:{kind:"Name",value:"inputArr"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CategoryData"},directives:[]}]}}]}}],loc:{start:0,end:169}};i.loc.source={body:'#import "./fragments/CategoryFragment.gql"\nmutation updateCategories ($inputArr: [CategoryInput!]!) {\n  updateCategories(inputArr: $inputArr){\n    ...CategoryData\n  }\n}\n',name:"GraphQL request",locationOffset:{line:1,column:1}};var a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!a[t]&&(a[t]=!0,!0)}))}function o(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,t)})),e.definitions&&e.definitions.forEach((function(e){o(e,t)}))}i.definitions=i.definitions.concat(r(n("74ea").definitions));var d={};function s(e,t){for(var n=0;n<e.definitions.length;n++){var i=e.definitions[n];if(i.name&&i.name.value==t)return i}}function c(e,t){var n={kind:e.kind,definitions:[s(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var i=d[t]||new Set,a=new Set,r=new Set;i.forEach((function(e){r.add(e)}));while(r.size>0){var o=r;r=new Set,o.forEach((function(e){if(!a.has(e)){a.add(e);var t=d[e]||new Set;t.forEach((function(e){r.add(e)}))}}))}return a.forEach((function(t){var i=s(e,t);i&&n.definitions.push(i)})),n}(function(){i.definitions.forEach((function(e){if(e.name){var t=new Set;o(e,t),d[e.name.value]=t}}))})(),e.exports=i,e.exports["updateCategories"]=c(i,"updateCategories")},a523:function(e,t,n){"use strict";n("99af"),n("4de4"),n("b64b"),n("2ca0"),n("20f6"),n("4b85"),n("a15b"),n("498a");var i=n("2b0e");function a(e){return i["a"].extend({name:"v-".concat(e),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(t,n){var i=n.props,a=n.data,r=n.children;a.staticClass="".concat(e," ").concat(a.staticClass||"").trim();var o=a.attrs;if(o){a.attrs={};var d=Object.keys(o).filter((function(e){if("slot"===e)return!1;var t=o[e];return e.startsWith("data-")?(a.attrs[e]=t,!1):t||"string"===typeof t}));d.length&&(a.staticClass+=" ".concat(d.join(" ")))}return i.id&&(a.domProps=a.domProps||{},a.domProps.id=i.id),t(i.tag,a,r)}})}var r=n("d9f7");t["a"]=a("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(e,t){var n,i=t.props,a=t.data,o=t.children,d=a.attrs;return d&&(a.attrs={},n=Object.keys(d).filter((function(e){if("slot"===e)return!1;var t=d[e];return e.startsWith("data-")?(a.attrs[e]=t,!1):t||"string"===typeof t}))),i.id&&(a.domProps=a.domProps||{},a.domProps.id=i.id),e(i.tag,Object(r["a"])(a,{staticClass:"container",class:Array({"container--fluid":i.fluid}).concat(n||[])}),o)}})},b83b:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{attrs:{title:e.title,fab:"",color:"primary",top:"",right:"",absolute:"",dark:"",small:""},on:{click:function(t){return e.$emit("click")}}},[n("v-icon",[e._v("mdi-plus")])],1)},a=[],r={props:{title:{type:String,default:"Add New"}}},o=r,d=n("2877"),s=n("6544"),c=n.n(s),u=n("8336"),l=n("132d"),m=Object(d["a"])(o,i,a,!1,null,null,null);t["a"]=m.exports;c()(m,{VBtn:u["a"],VIcon:l["a"]})}}]);
//# sourceMappingURL=chunk-6db26a8a.02d80731.js.map